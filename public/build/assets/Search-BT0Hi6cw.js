import{d as k,r as p,c as V,s as w,f,e as l,g as e,h as c,i as S,q as j,j as q,t as a,b as o,l as s,F as v,m as _,k as B,B as z}from"./app-TYwxvT_d.js";import{_ as F}from"./index-Dd7tDHjE.js";import{_ as N}from"./Input.vue_vue_type_script_setup_true_lang-qOul4RQH.js";import{_ as C}from"./AppLayout.vue_vue_type_script_setup_true_lang-yJACZ1ni.js";import{c as H}from"./createLucideIcon-DfkDnMOg.js";import"./index-B5O3c096.js";import"./VisuallyHidden-Cg0jL7jD.js";import"./useForwardExpose-ICQT6k3q.js";import"./useForwardPropsEmits-BvFkifIX.js";import"./index-CqmfE78h.js";import"./index-CSEUMRIG.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-Xe-IQyJB.js";const I=H("FileSearchIcon",[["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M4.268 21a2 2 0 0 0 1.727 1H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"ms7g94"}],["path",{d:"m9 18-1.5-1.5",key:"1j6qii"}],["circle",{cx:"5",cy:"14",r:"3",key:"ufru5t"}]]),M={class:"flex flex-col gap-6 p-6"},Z={class:"rounded-xl border bg-background p-6 shadow-sm"},$={class:"flex flex-col gap-4"},L={class:"flex items-center gap-3"},D={class:"flex h-10 w-10 items-center justify-center rounded-lg bg-muted"},E={class:"flex justify-end"},O={class:"grid gap-6 lg:grid-cols-[2fr_1fr]"},P={class:"rounded-xl border bg-background p-6 shadow-sm"},T={key:0,class:"mt-4 text-sm text-destructive"},U={key:1,class:"mt-4 whitespace-pre-wrap text-base text-foreground"},A={class:"rounded-xl border bg-background p-6 shadow-sm"},G={key:0,class:"mt-4 text-sm text-muted-foreground"},J={key:1,class:"mt-4 space-y-4"},K={class:"text-sm font-semibold text-foreground"},Q={class:"text-xs text-muted-foreground"},R={key:0,class:"mt-2 space-y-1 text-xs text-muted-foreground"},le=k({__name:"Search",props:{query:{},answer:{},sources:{},error:{}},setup(x){const d=x,h=[{title:"Vyhľadávanie",href:"/search"}],i=p(d.query??""),n=p(!1),u=V(()=>[...d.sources].sort((m,t)=>m.distance-t.distance));function g(){i.value.trim()&&(n.value=!0,z.post("/search",{query:i.value},{preserveScroll:!0,onFinish:()=>{n.value=!1}}))}return(m,t)=>(s(),w(C,{breadcrumbs:h},{default:f(()=>[l(c(S),{title:"Vyhľadávanie"}),e("div",M,[e("div",Z,[e("div",$,[e("div",L,[e("div",D,[l(c(I),{class:"h-5 w-5 text-foreground"})]),t[1]||(t[1]=e("div",null,[e("div",{class:"text-xl font-semibold"},"Vyhľadávanie"),e("div",{class:"text-sm text-muted-foreground"}," Zadaj otázku a nájdeme odpoveď z archívu. ")],-1))]),e("form",{class:"flex flex-col gap-3",onSubmit:j(g,["prevent"])},[l(c(N),{modelValue:i.value,"onUpdate:modelValue":t[0]||(t[0]=r=>i.value=r),class:"h-12 text-base",placeholder:"Napíš, čo hľadáš..."},null,8,["modelValue"]),e("div",E,[l(c(F),{type:"submit",disabled:n.value},{default:f(()=>[q(a(n.value?"Hľadám...":"Vyhľadať"),1)]),_:1},8,["disabled"])])],32)])]),e("div",O,[e("div",P,[t[2]||(t[2]=e("div",{class:"text-sm font-semibold uppercase text-muted-foreground"}," Odpoveď ",-1)),d.error?(s(),o("div",T,a(d.error),1)):(s(),o("div",U,a(d.answer||"Zatiaľ nie je dostupná žiadna odpoveď."),1))]),e("div",A,[t[3]||(t[3]=e("div",{class:"text-sm font-semibold uppercase text-muted-foreground"}," Použité dokumenty ",-1)),u.value.length===0?(s(),o("div",G," Zatiaľ nemáme žiadne zdroje. ")):(s(),o("div",J,[(s(!0),o(v,null,_(u.value,r=>(s(),o("div",{key:r.id,class:"rounded-lg border border-border/60 bg-muted/10 p-3"},[e("div",K,a(r.name),1),e("div",Q,a(r.original_filename||"Bez názvu"),1),r.excerpts.length?(s(),o("div",R,[(s(!0),o(v,null,_(r.excerpts.slice(0,2),(b,y)=>(s(),o("div",{key:y}," “"+a(b)+"” ",1))),128))])):B("",!0)]))),128))]))])])])]),_:1}))}});export{le as default};
