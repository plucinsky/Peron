import{d as M,r as b,u as E,e as y,f as o,g as n,h as l,i as e,j as w,k as i,l as j,m as g,F as V,n as z,t as m,s as F}from"./app-C-A-j5o3.js";import{_ as u}from"./InputError.vue_vue_type_script_setup_true_lang-DaMyO-LZ.js";import{_ as x}from"./index-BcEjF4fS.js";import{_ as N,a as S,b as B,c as O}from"./DialogTitle.vue_vue_type_script_setup_true_lang-BRzBOkP-.js";import{_ as T,a as K}from"./DialogFooter.vue_vue_type_script_setup_true_lang-B-alQ8vn.js";import{_ as p}from"./Input.vue_vue_type_script_setup_true_lang-DIhzugIi.js";import{_ as f}from"./Label.vue_vue_type_script_setup_true_lang-DqyqNIt-.js";import{_ as Z}from"./AppLayout.vue_vue_type_script_setup_true_lang-DZU0k-WR.js";import"./useForwardPropsEmits-BZ4aH7Bh.js";import"./index-r1VvGSw8.js";import"./useForwardExpose-C7-g6nC2.js";import"./VisuallyHidden-zhhIw4IJ.js";import"./index-CqmfE78h.js";import"./index-CSEUMRIG.js";import"./createLucideIcon-DWqcz6Xl.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-KgmdA50z.js";const A={class:"flex flex-col gap-6 p-4"},D={class:"flex items-center justify-between"},L={class:"rounded-md border"},q={class:"w-full text-sm"},G={class:"px-4 py-2"},H={class:"px-4 py-2"},I={class:"px-4 py-2"},J={class:"px-4 py-2"},Q={class:"px-4 py-2"},R={class:"px-4 py-2"},W={class:"px-4 py-2"},X={key:0},Y={class:"grid gap-2"},ee={class:"grid gap-2"},te={class:"grid gap-2"},se={class:"grid gap-2"},oe={class:"grid gap-2"},le={class:"grid gap-2"},$e=M({__name:"Persons",props:{persons:{}},setup($){const v=$,k=[{title:"Osoby",href:"/persons"}],_=b(!1),d=b(null),s=E({first_name:"",last_name:"",city:"",email:"",phone:"",country:""});function c(){_.value=!1,d.value=null,s.reset(),s.clearErrors()}function h(r){if(!r){c();return}_.value=!0}function P(){d.value=null,s.reset(),s.clearErrors(),_.value=!0}function U(r){d.value=r,s.first_name=r.first_name,s.last_name=r.last_name,s.city=r.city,s.email=r.email??"",s.phone=r.phone??"",s.country=r.country,s.clearErrors(),_.value=!0}function C(){if(d.value){s.put(`/persons/${d.value.id}`,{onSuccess:c});return}s.post("/persons",{onSuccess:c})}return(r,t)=>(g(),y(V,null,[o(Z,{breadcrumbs:k},{default:n(()=>[o(e(w),{title:"Osoby"}),l("div",A,[l("div",D,[t[7]||(t[7]=l("h1",{class:"text-2xl font-semibold"},"Osoby",-1)),o(e(x),{onClick:P},{default:n(()=>[...t[6]||(t[6]=[i("Pridat osobu",-1)])]),_:1})]),l("div",L,[l("table",q,[t[10]||(t[10]=l("thead",{class:"bg-muted"},[l("tr",null,[l("th",{class:"px-4 py-2 text-left font-medium"}," Meno "),l("th",{class:"px-4 py-2 text-left font-medium"}," Priezvisko "),l("th",{class:"px-4 py-2 text-left font-medium"}," Mesto "),l("th",{class:"px-4 py-2 text-left font-medium"}," Email "),l("th",{class:"px-4 py-2 text-left font-medium"}," Telefon "),l("th",{class:"px-4 py-2 text-left font-medium"}," Krajina "),l("th",{class:"px-4 py-2 text-left font-medium"}," Akcie ")])],-1)),l("tbody",null,[(g(!0),y(V,null,z(v.persons,a=>(g(),y("tr",{key:a.id,class:"border-t"},[l("td",G,m(a.first_name),1),l("td",H,m(a.last_name),1),l("td",I,m(a.city),1),l("td",J,m(a.email),1),l("td",Q,m(a.phone),1),l("td",R,m(a.country),1),l("td",W,[o(e(x),{variant:"outline",size:"sm",onClick:ae=>U(a)},{default:n(()=>[...t[8]||(t[8]=[i(" Upravit ",-1)])]),_:1},8,["onClick"])])]))),128)),v.persons.length===0?(g(),y("tr",X,[...t[9]||(t[9]=[l("td",{class:"px-4 py-6 text-center text-muted-foreground",colspan:"7"}," Ziadne osoby. ",-1)])])):j("",!0)])])])])]),_:1}),o(e(O),{open:_.value,"onUpdate:open":h},{default:n(()=>[o(e(N),{class:"sm:max-w-lg"},{default:n(()=>[o(e(S),null,{default:n(()=>[o(e(B),null,{default:n(()=>[i(m(d.value?"Upravit osobu":"Pridat osobu"),1)]),_:1})]),_:1}),l("form",{class:"space-y-4",onSubmit:F(C,["prevent"])},[l("div",Y,[o(e(f),{for:"person-first-name"},{default:n(()=>[...t[11]||(t[11]=[i("Meno",-1)])]),_:1}),o(e(p),{id:"person-first-name",name:"first_name",modelValue:e(s).first_name,"onUpdate:modelValue":t[0]||(t[0]=a=>e(s).first_name=a),autocomplete:"given-name"},null,8,["modelValue"]),o(u,{message:e(s).errors.first_name},null,8,["message"])]),l("div",ee,[o(e(f),{for:"person-last-name"},{default:n(()=>[...t[12]||(t[12]=[i("Priezvisko",-1)])]),_:1}),o(e(p),{id:"person-last-name",name:"last_name",modelValue:e(s).last_name,"onUpdate:modelValue":t[1]||(t[1]=a=>e(s).last_name=a),autocomplete:"family-name"},null,8,["modelValue"]),o(u,{message:e(s).errors.last_name},null,8,["message"])]),l("div",te,[o(e(f),{for:"person-city"},{default:n(()=>[...t[13]||(t[13]=[i("Mesto",-1)])]),_:1}),o(e(p),{id:"person-city",name:"city",modelValue:e(s).city,"onUpdate:modelValue":t[2]||(t[2]=a=>e(s).city=a),autocomplete:"address-level2"},null,8,["modelValue"]),o(u,{message:e(s).errors.city},null,8,["message"])]),l("div",se,[o(e(f),{for:"person-email"},{default:n(()=>[...t[14]||(t[14]=[i("Email",-1)])]),_:1}),o(e(p),{id:"person-email",name:"email",type:"email",modelValue:e(s).email,"onUpdate:modelValue":t[3]||(t[3]=a=>e(s).email=a),autocomplete:"email"},null,8,["modelValue"]),o(u,{message:e(s).errors.email},null,8,["message"])]),l("div",oe,[o(e(f),{for:"person-phone"},{default:n(()=>[...t[15]||(t[15]=[i("Telefon",-1)])]),_:1}),o(e(p),{id:"person-phone",name:"phone",type:"tel",modelValue:e(s).phone,"onUpdate:modelValue":t[4]||(t[4]=a=>e(s).phone=a),autocomplete:"tel"},null,8,["modelValue"]),o(u,{message:e(s).errors.phone},null,8,["message"])]),l("div",le,[o(e(f),{for:"person-country"},{default:n(()=>[...t[16]||(t[16]=[i("Krajina",-1)])]),_:1}),o(e(p),{id:"person-country",name:"country",modelValue:e(s).country,"onUpdate:modelValue":t[5]||(t[5]=a=>e(s).country=a),autocomplete:"country-name"},null,8,["modelValue"]),o(u,{message:e(s).errors.country},null,8,["message"])]),o(e(T),{class:"gap-2"},{default:n(()=>[o(e(K),{"as-child":""},{default:n(()=>[o(e(x),{type:"button",variant:"outline",onClick:c},{default:n(()=>[...t[17]||(t[17]=[i(" Zrusit ",-1)])]),_:1})]),_:1}),o(e(x),{type:"submit",disabled:e(s).processing},{default:n(()=>[...t[18]||(t[18]=[i(" Ulozit ",-1)])]),_:1},8,["disabled"])]),_:1})],32)]),_:1})]),_:1},8,["open"])],64))}});export{$e as default};
